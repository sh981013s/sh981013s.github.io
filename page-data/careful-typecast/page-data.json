{"componentChunkName":"component---src-templates-post-jsx","path":"/careful-typecast/","result":{"data":{"site":{"siteMetadata":{"title":"hwani.dev"}},"markdownRemark":{"id":"683ff5ef-b48f-5c44-b05c-b6c9bf2c0314","excerpt":"서론 이전의 포스트에서 타입검사를 왜 조심해야 하는지에 대해 말해보았다. 가장 주요한 이유로는 자바스크립트가 부족한 언어이다. 자바스크립트가 너무 느슨하다. 자바스크립트가 너무 유연하다. 자바스크립트가 동적이다. 라고 생각을 할 수 있을지도 모른다. 본론  하지만 javascript equality table 이라고 검색해보면, 이러한 테이블인 나온다. …","html":"<h2>서론</h2>\n<p>이전의 포스트에서 타입검사를 왜 조심해야 하는지에 대해 말해보았다.</p>\n<p>가장 주요한 이유로는</p>\n<ul>\n<li>자바스크립트가 부족한 언어이다.</li>\n<li>자바스크립트가 너무 느슨하다.</li>\n<li>자바스크립트가 너무 유연하다.</li>\n<li>자바스크립트가 동적이다.</li>\n</ul>\n<p>라고 생각을 할 수 있을지도 모른다.</p>\n<hr>\n<h2>본론</h2>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/25352ab660f80c769886ee80a939d5d3/d2c78/f4615b5d.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 97.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAADbElEQVQ4y41UyXLbRhDlfzv/kBycQ1xaE1lMLJUVmblYshWSjizukCiAAEGK2IiVGADcLNuXZ3SjyJJTOeTQNQCmZ/r1e69REkIgSRPMkzlsw8YiXSBNUvi+D03VsEyXCMMQ0SyC53sYDAZQFAXT6RR01vVcJLMEIhKcU0qShD809SYacgOthxYnBX4AwzJQH9bhuR4foNWyLNi2jciPOCfxE/TGEm7UG76nJBIBc2KiNWrhZf8Yv0lHqCgVRkkIXstnuNAu8WH8AbIjY5ktkSUZrvQr9O0+Tu9Psd89gDJVsMgWKMUihggF6lodZel3HHZ/ZVRzMYcXeHgpHaM5bkK2ZGi2BhELxFHMnai2itqwhqPuERrjBtPDLRMSOlwZ/IXqqIbj2zJ0V8c6W+PWusUfd69QvitDtmXM0zkykeGt9pb3DnoH+FM+xyyege7iCx3HQRREiOMYi2TBlV+0XmA0HeHr/Cs6kw7+Hlb5IiI+iqJizSOMQsxmM0ZOwEq0qes6I6TLqdI6XUObatjr7mHkjfAp+8TIqCAderoy13GhMCMkDuMgxoVyiYpcyXks49a4w5fsCxRrgJ32LnRHRxqnCMKA0URhxM9spxzQ+f05qjmXq2yFUprmiUHAcTm8RGPSwKucs57ZY2RDd4idzg7G3pg9Sh1QLPPnR97X8UZ5g1QUrmAOiQfy0D/jayb+5O4Edb2OJC4Mrzkafsk5nXgTrNIVxEygptcgGRKqepXf41lBAyMk11MbkiVBcRRIpsTwN2hIqJE7wo83P2Gnu8v26Jhd5rmbr0QD8ckcGobBo+RMHVaRUFFFQk38ULIf+FglKzy/+RnPrn7AgzvBY/rIqMivrHoejJBGSVVVnlOaAmqR4qmahJK+ETJSfbezx1NDCtMe5W0R0k/ANE32YS03dXvSxjvtHVff+I0UJq761j0+Z5/ztY/WpPWdL9mLhDDLMn4Jg3DLYdtob5GRrciXzfwCUpzmmBTdKL7pZIuQRDFtE/NojpP+Kd5r73HYOSyIjgqU5MML9YJVJc780N9y/DS2tqF2O+Mu9nv7+Wwe4uz+jPmhqmf53+Y8n1VCRu39e1L+E6Fru/iofoTmaugYncKXIkEQBbh+uM6TBY/Xxh6bdRPf2WYzv+Q1mldSkquKovo69+MGyf+Jb6gmYaspeceuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='f4615b5d' title='f4615b5d' src='/static/25352ab660f80c769886ee80a939d5d3/ca1dc/f4615b5d.png' srcset='/static/25352ab660f80c769886ee80a939d5d3/e7570/f4615b5d.png 170w,\n/static/25352ab660f80c769886ee80a939d5d3/f46e7/f4615b5d.png 340w,\n/static/25352ab660f80c769886ee80a939d5d3/ca1dc/f4615b5d.png 680w,\n/static/25352ab660f80c769886ee80a939d5d3/d2c78/f4615b5d.png 812w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>하지만 javascript equality table 이라고 검색해보면, 이러한 테이블인 나온다. 이처럼 기본적인 == equality operator 를 사용하면 많은 모순점이 생기기 마련이지만,</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/05697bc99a0729f687faf99c44ead744/93c28/b13259cc.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 95.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6klEQVQ4y61Uy27bMBD0/9/rWxW0n5E/CFIDBmrYjmTFkPWySJGU7dynnk1XYOS47aGH1S7F5XA4y+XMew/nHMT7d69mrR3jEIKMi6JAXdcS819sxJkJWLiCdQ5lUcIYIxOHwwF5nqPrOrG+77Hf77Fer5FlGZqmkVz6tm1lE248610Pbzwefz5ikS0QTEDTNpLARF1wPB5RVRXKspQ5Nf5TE0DbW7zuXrHcL/Ft+R1pneISLuB/JpAZGdN/kGfiNZ4xIPVgA16qF3x9TpA3OQY3wFgjWqkRlLnxOI5HQNc7OeZluCCrMsyf5sjqTJh2phsXxl4tHgsgAxaAwpPR0A/C9OHHA9IqxcmdBFSZxAzj8QhIwdM0HavLxW/hDdsraLJIBJRMuRnn7zHk3HhkgurVYEJnO5z9SZgmV6a7endX0081VMCYAZmSGRl+uWrKQsWa3tWQgPHljTVSTQma/EXTEZAfXtYpQ00gKJltq61oqtVXTeNcAdxsNlitVtIRAvDJPSOjsz8LKKtP0KmmI0P2J3uTrRUznHoWitVnoea/NR38O+gHDXlU7dtYw6nX6pMZtSzaQhriRkM+OwQlQ32y4h3jiqqmZOadv5kbq8xOmTK827vG3tzHG4Z65D9p+M+9TEB9hf8H4C+1rIPu4ubCVQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='b13259cc' title='b13259cc' src='/static/05697bc99a0729f687faf99c44ead744/ca1dc/b13259cc.png' srcset='/static/05697bc99a0729f687faf99c44ead744/e7570/b13259cc.png 170w,\n/static/05697bc99a0729f687faf99c44ead744/f46e7/b13259cc.png 340w,\n/static/05697bc99a0729f687faf99c44ead744/ca1dc/b13259cc.png 680w,\n/static/05697bc99a0729f687faf99c44ead744/93c28/b13259cc.png 819w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>위처럼 === strict equality operator 를 사용한다면 벌써 많은 오류를 피할 수 있다.</p>\n<p>하지만, 여기에서 끝나지 않고 <code class=\"language-text\">JS의 형변환</code> 그 자체에 주목할 필요는 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">'1'</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token comment\">// true</span>\n<span class=\"token number\">1</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// true</span>\n<span class=\"token number\">0</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">// ture</span></code></pre></div>\n<p>위의 코드는 사람이 보면 '느슨한 검사를 하고 있구나.'</p>\n<p>라고 생각을 할 수 있지만, 결국에는 <code class=\"language-text\">형번환</code> 이 일어난 케이스이다. 이는 JS 의 <code class=\"language-text\">암묵적인 형변환</code> 이라고도 부른다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token number\">11</span> <span class=\"token operator\">+</span> <span class=\"token string\">'문자와 결합'</span> <span class=\"token comment\">// '11 문자와 결합`</span>\n\n<span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token string\">'일반 문자열'</span> <span class=\"token comment\">// true</span>\n<span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token string\">''</span> <span class=\"token comment\">// false (빈 문자열)</span>\n\n<span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">'9.999'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>위는 일전에 언급한 JS 의 암묵적인 형번환의 예시들이다.</p>\n<p>잠시 다른 얘기를 하자면 마지막줄의 <code class=\"language-text\">parseInt</code> 에서 두번째 인자로 몇진수로 변환할 것인지에 따른 값을 정할 수 있지만, 많은분들이 default 값으로 10진수가 들어가겠지.. 하고 생략을 하는 경우를 종종 보았다.</p>\n<p>하지만 내장된 <code class=\"language-text\">parseInt</code> 메서드의 기본 진수값은 꼭 10진수가 아니기 때문에 오류를 피하기위해서는 꼭 두번째 인자를 넣는것을 추천한다.</p>\n<p>굳이 따지자면, 위의 세줄은 압묵적인 형변환이 일어나지만, 마지막 <code class=\"language-text\">parseInt</code>는 누가봐도 형변환을 명시적으로 표현하였기 때문에 압묵적이지만은 않다고 말할수 있다.</p>\n<p>결론은 압묵적인 형변환은 본인도 헷갈릴 수 있고, 팀원들에게도 혼란을 초래할 수 있기 때문에, 명시적인 형변환을 지향해야 한단는 점이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span> <span class=\"token operator\">+</span> <span class=\"token string\">'문자와 결합'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// '11 문자와 결합`</span>\n\n<span class=\"token function\">Boolean</span><span class=\"token punctuation\">(</span><span class=\"token string\">'일반 문자열'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\n<span class=\"token function\">Boolean</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false (빈 문자열)</span>\n\n<span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">'9.999'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이런식으로 명시적인 형변환을 사용 할 수 있다.</p>\n<hr>\n<h2>결론</h2>\n<p>자바스크립트에서 사용자가 형변환을 하였을때는 <code class=\"language-text\">명시적인 형변환</code> 이라고 할 수 있다.</p>\n<p>하지만 사용자가 아닌, JS 엔진이 형변환을 자동적으로 하였을때는 <code class=\"language-text\">암시적인 형변환</code> 이라고 할 수 있다.</p>\n<p>우리는 사람이 코드를 작성하는 것이기 때문에, 예측가능한 <code class=\"language-text\">명시적인 형변환</code> 을 지향해야한다.</p>","frontmatter":{"title":"JS - 형변환 주의하기","date":"December 02, 2021","update":"December 02, 2021","tags":["JS_CleanCode"],"series":"JS_CleanCode"},"fields":{"slug":"/careful-typecast/","readingTime":{"minutes":3.86}}},"seriesList":{"edges":[{"node":{"id":"22a2aed1-aa36-51d6-9ce8-fb6f34e8fb66","fields":{"slug":"/no-var/"},"frontmatter":{"title":"JS - var 를 지양하자"}}},{"node":{"id":"ec9410bb-52dd-553a-b26b-7a01b389e775","fields":{"slug":"/no-global/"},"frontmatter":{"title":"JS - 전역 공간 사용 최소화"}}},{"node":{"id":"b5b959dd-cd6a-580f-8165-824ce6e43c65","fields":{"slug":"/no-temporary-variable/"},"frontmatter":{"title":"JS - 임시변수 제거하기"}}},{"node":{"id":"fc9e3742-bf54-5ffe-a72f-f03f049fc32b","fields":{"slug":"/no-hoisting/"},"frontmatter":{"title":"JS - 호이스팅 주의하기"}}},{"node":{"id":"54d4bb98-9bf4-5b86-92d2-259a7dd4b6f0","fields":{"slug":"/types-of-javascript/"},"frontmatter":{"title":"JS - 타입 검사"}}},{"node":{"id":"c09dfcba-c358-5c45-803e-5b53d39c2e70","fields":{"slug":"/undefined-null/"},"frontmatter":{"title":"JS - undefined & null"}}},{"node":{"id":"2db4eac8-4b7c-5df7-9d45-39f5273aaa85","fields":{"slug":"/no-eqeq/"},"frontmatter":{"title":"JS - eqeq 줄이기"}}},{"node":{"id":"683ff5ef-b48f-5c44-b05c-b6c9bf2c0314","fields":{"slug":"/careful-typecast/"},"frontmatter":{"title":"JS - 형변환 주의하기"}}}]},"previous":{"fields":{"slug":"/no-eqeq/"},"frontmatter":{"title":"JS - eqeq 줄이기"}},"next":null},"pageContext":{"id":"683ff5ef-b48f-5c44-b05c-b6c9bf2c0314","series":"JS_CleanCode","previousPostId":"2db4eac8-4b7c-5df7-9d45-39f5273aaa85","nextPostId":null}},"staticQueryHashes":[]}